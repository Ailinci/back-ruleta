extends ../layout

block content
  h1 Lista de Usuarios

  a(href="/usuarios/nuevo" style="display:inline-block; margin-bottom: 1em; padding: 0.5em 1em; background: #28a745; color: white; text-decoration: none; border-radius: 4px;") 
    | + Nuevo Usuario

  if usuarios.length
    table(border="1" cellpadding="10" cellspacing="0")
      thead
        tr
          th Nombre
          th Rol
          th Email
          th Ver
          th Editar
          th Eliminar
      tbody
        each usuario in usuarios
          tr
            td #{usuario.nombre}
            td #{usuario.rol}
            td #{usuario.email}
            td
              a(href=`/usuarios/${usuario._id}`) Ver
            td
              a(href=`/usuarios/${usuario._id}/editar`) Editar
            td
              form(action=`/usuarios/${usuario._id}/delete` method="POST" onsubmit="return confirm('¿Estás seguro de que quieres eliminar este usuario?');")
                button(type="submit" style="background:none; border:none; color:red; cursor:pointer; padding:0; font-size:1em;") Eliminar
  else
    p No hay usuarios cargados aún.
